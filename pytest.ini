[tool:pytest]
# Pytest configuration for CI-friendly testing

# Test discovery patterns
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Markers for different test types and tiers
markers =
    standalone: Tests that don't require external services
    integration: Tests that require Docker services
    slow: Tests that take a long time to run
    network: Tests that require network access
    tier1_critical: Critical integrations (Slack, Gmail, Salesforce) - run on every commit
    tier2_important: Important integrations (QuickBooks, Stripe) - run on schema changes
    tier3_secondary: Secondary integrations (Notion, Dropbox) - run weekly
    regression: Full regression test suite
    smoke: Quick smoke tests for basic functionality
    performance: Performance and load tests

# Default test collection
addopts = -v --tb=short --strict-markers

# Ignore patterns for CI
collect_ignore = setup.py _archive/ node_modules/ .git/ scripts/ debug_*.py bubble_simple_test.py
